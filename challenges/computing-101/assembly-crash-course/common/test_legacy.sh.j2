#!/bin/sh
set -eu

if [ -r /challenge ] && [ -x /challenge ]; then
    entries=$(ls -A /challenge 2>/dev/null)
    if [ -z "$entries" ]; then
        echo "No challenge files found" >&2
        exit 1
    fi
    echo "Challenge files:"
    printf '%s\n' "$entries"
else
    # Some legacy challenges make /challenge inaccessible (e.g. legacy/linux-luminarium/processes/ps)
    echo "Challenge files are inaccessible"
fi
