This challenge is using VM-based obfuscation: reverse engineer the custom emulator and architecture to understand how to get the flag!