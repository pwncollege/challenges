diff --git a/src/base/build_config.h b/src/base/build_config.h
--- a/src/base/build_config.h
+++ b/src/base/build_config.h
@@ -44,7 +44,8 @@
 #define V8_HAS_BECORE_JIT_WRITE_PROTECT 0
 #endif

-#if defined(V8_OS_LINUX) && defined(V8_HOST_ARCH_X64)
+// Disable PKU so WASM code pages are truly RWX (for CTF challenge).
+#if 0 && defined(V8_OS_LINUX) && defined(V8_HOST_ARCH_X64)
 #define V8_HAS_PKU_JIT_WRITE_PROTECT 1
 #else
 #define V8_HAS_PKU_JIT_WRITE_PROTECT 0
diff --git a/src/d8/d8.cc b/src/d8/d8.cc
--- a/src/d8/d8.cc
+++ b/src/d8/d8.cc
@@ -3338,7 +3338,7 @@

 Local<ObjectTemplate> Shell::CreateGlobalTemplate(Isolate* isolate) {
   Local<ObjectTemplate> global_template = ObjectTemplate::New(isolate);
-  global_template->Set(Symbol::GetToStringTag(isolate),
+/*  global_template->Set(Symbol::GetToStringTag(isolate),
                        String::NewFromUtf8Literal(isolate, "global"));
   global_template->Set(isolate, "version",
                        FunctionTemplate::New(isolate, Version));
@@ -3358,10 +3358,10 @@
   global_template->Set(isolate, "readline",
                        FunctionTemplate::New(isolate, ReadLine));
   global_template->Set(isolate, "load",
-                       FunctionTemplate::New(isolate, ExecuteFile));
+                       FunctionTemplate::New(isolate, ExecuteFile));*/
   global_template->Set(isolate, "setTimeout",
                        FunctionTemplate::New(isolate, SetTimeout));
-  // Some Emscripten-generated code tries to call 'quit', which in turn would
+/*  // Some Emscripten-generated code tries to call 'quit', which in turn would
   // call C's exit(). This would lead to memory leaks, because there is no way
   // we can terminate cleanly then, so we need a way to hide 'quit'.
   if (!options.omit_quit) {
@@ -3383,7 +3383,7 @@
   if (i::v8_flags.expose_async_hooks) {
     global_template->Set(isolate, "async_hooks",
                          Shell::CreateAsyncHookTemplate(isolate));
-  }
+  }*/

   return global_template;
 }
